<div class="main-wrapper">
  <h1 class="mt-3 mb-3 text-center poppins-semibold">History Prediction</h1>
  <div class="container">
    <div class="d-flex mb-3">
      <a href="/uploadData" class="btn btn-outline-info me-auto">
        Initialize Dataset
      </a>
      <a href="/initializeModel" class="btn btn-outline-warning">
        Initialize Model
      </a>
    </div>
    <% if (success_msg) { %>
      <p class="success-alert">
        <%= success_msg %>
      </p>	
    <% } %>
    <% if (error_msg) { %>
      <p class="fail-alert">
        <%= error_msg %>
      </p>
    <% } %>
    <div class="users-table table-wrapper">
    <% if (combinedData.length > 0) { %>
      <table class="posts-table">
        <thead>
          <tr class="users-table-info">
            <th scope="col">#</th>
            <th scope="col">Timestamp</th>
            <th scope="col">Predicted CO</th>
            <th scope="col">Predicted PM2.5</th>
            <th scope="col">Actual CO</th>
            <th scope="col">Actual PM2.5</th>
          </tr>
        </thead>
        <tbody>
          <% combinedData.forEach((data, idx) => { %>
          <tr>
            <td><%= idx + 1 %></td>
            <td><%= new Date(data.timestamp).toLocaleString() %></td>
            <td><%= data.predictedCO !== null ? data.predictedCO.toFixed(2) : 'N/A' %></td>
            <td><%= data.predictedPM25 !== null ? data.predictedPM25.toFixed(2) : 'N/A' %></td>
            <td><%= data.actualCO !== null ? data.actualCO.toFixed(2) : 'N/A' %></td>
            <td><%= data.actualPM25 !== null ? data.actualPM25.toFixed(2) : 'N/A' %></td>
          </tr>
        <% }) %>
        </tbody>
      </table>
    <% } else { %>
    </div>
      <p>No prediction results available.</p>
    <% } %>  
  </div>
</div>
<footer class="text-white py-3">
  <ul class="nav justify-content-center border-bottom pb-3 mb-3">
    <li class="nav-item"><a href="#" class="text-white nav-link px-2 text-muted">Home</a></li>
    <li class="nav-item"><a href="#" class="text-white nav-link px-2 text-muted">Contacts</a></li>
    <li class="nav-item"><a href="#" class="text-white nav-link px-2 text-muted">About</a></li>
  </ul>
  <p class="text-white text-center text-muted">Â© 2024 AIRMIND, Inc</p>
</footer>
<script src="plugins/feather.min.js"></script>
<script src="/js/script.js"></script>
